# ğŸšŒ ShuttleBee Flutter

<div align="center">

![ShuttleBee Logo](assets/images/logo.png)

**Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ù‚Ù„ Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„**

[![Flutter](https://img.shields.io/badge/Flutter-3.x-02569B?logo=flutter)](https://flutter.dev)
[![Dart](https://img.shields.io/badge/Dart-3.x-0175C2?logo=dart)](https://dart.dev)
[![Odoo](https://img.shields.io/badge/Odoo-18-714B67?logo=odoo)](https://odoo.com)
[![BridgeCore](https://img.shields.io/badge/BridgeCore-3.1.0-00BFA5)](https://bridgecore.geniura.com)
[![License](https://img.shields.io/badge/License-Proprietary-red)](LICENSE)

[Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©](#Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©) | [English](#english)

</div>

---

## Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©

### ğŸ“‹ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

**ShuttleBee** Ù‡Ùˆ ØªØ·Ø¨ÙŠÙ‚ Flutter Ù…ØªÙƒØ§Ù…Ù„ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ù‚Ù„ Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØŒ ÙŠØ¹Ù…Ù„ Ù…Ø¹ Ù†Ø¸Ø§Ù… Odoo 18 ÙƒØ®Ø§Ø¯Ù… Ø®Ù„ÙÙŠ Ø¹Ø¨Ø± **BridgeCore Flutter v3.1.0**. ÙŠÙˆÙØ± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙˆØ§Ø¬Ù‡Ø§Øª Ù…Ø®ØµØµØ© Ù„ÙƒÙ„ Ù…Ù†:

- ğŸš— **Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†** - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø±Ø­Ù„Ø§Øª ÙˆØ§Ù„Ø±ÙƒØ§Ø¨ Ù…Ø¹ Ø§Ù„ØªØªØ¨Ø¹ Ø§Ù„Ø­ÙŠ
- ğŸ“¡ **Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ† (Dispatchers)** - Ù…Ø±Ø§Ù‚Ø¨Ø© Ø­ÙŠØ© Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±ÙƒØ¨Ø§Øª
- ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ **Ø£ÙˆÙ„ÙŠØ§Ø¡ Ø§Ù„Ø£Ù…ÙˆØ±** - ØªØªØ¨Ø¹ Ø§Ù„Ø£Ø¨Ù†Ø§Ø¡ ÙˆØ§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
- ğŸ’ **Ø§Ù„Ø±ÙƒØ§Ø¨** - Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø±Ø­Ù„Ø§Øª
- ğŸ‘” **Ø§Ù„Ù…Ø¯Ø±Ø§Ø¡** - Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø´Ø§Ù…Ù„Ø©

---

### âœ¨ Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

#### ğŸš€ Ø§Ù„ØªØªØ¨Ø¹ Ø§Ù„Ø­ÙŠ Ø¹Ø¨Ø± WebSocket (Ø¬Ø¯ÙŠØ¯ ÙÙŠ v3.1.0)

Ù…ÙŠØ²Ø© Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„ØªØªØ¨Ø¹ Ø§Ù„Ø­ÙŠ ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ Ø¹Ø¨Ø± WebSocket:

**Ù„Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†:**
- Ø¥Ø±Ø³Ø§Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù…ÙˆÙ‚Ø¹ GPS ÙƒÙ„ 10 Ø«ÙˆØ§Ù†ÙŠ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø±Ø­Ù„Ø© Ø§Ù„Ø¬Ø§Ø±ÙŠØ©
- Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù…Ù† Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ†
- Ø­ÙØ¸ Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ ÙÙŠ Odoo (`shuttle.vehicle.position`)
- Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ Ø§Ù†Ù‚Ø·Ø§Ø¹ Ø§Ù„Ø´Ø¨ÙƒØ©

**Ù„Ù„Ù…Ø´Ø±ÙÙŠÙ† (Dispatchers):**
- Ù…Ø±Ø§Ù‚Ø¨Ø© Ø­ÙŠØ© Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±ÙƒØ¨Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø±ÙŠØ·Ø©
- Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ
- Ø·Ù„Ø¨ Ù…ÙˆÙ‚Ø¹ Ø³Ø§Ø¦Ù‚ Ù…Ø¹ÙŠÙ† Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©
- ØªØªØ¨Ø¹ Ø­Ø§Ù„Ø© Ø§Ù„Ø±Ø­Ù„Ø§Øª Ù…Ø¨Ø§Ø´Ø±Ø©

```dart
// Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªØªØ¨Ø¹ Ø§Ù„Ø­ÙŠ Ù„Ù„Ø³Ø§Ø¦Ù‚
ref.read(driverLiveTrackingProvider.notifier).connect();
ref.read(driverLiveTrackingProvider.notifier).startAutoTrackingManual(
  tripId: trip.id,
  vehicleId: trip.vehicleId!,
);

// Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªØªØ¨Ø¹ Ø§Ù„Ø­ÙŠ Ù„Ù„Ù…Ø´Ø±Ù
ref.read(dispatcherLiveTrackingProvider.notifier).connectAndSubscribe();
final location = await ref.read(dispatcherLiveTrackingProvider.notifier)
    .requestDriverLocation(driverId);
```

#### ğŸ—ºï¸ Ø§Ù„ØªØªØ¨Ø¹ Ø¹Ø¨Ø± REST API

- ØªØªØ¨Ø¹ GPS ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ
- Ø¹Ø±Ø¶ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§ÙÙ„Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø±ÙŠØ·Ø©
- ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ (Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø­ÙŠØ©: ÙƒÙ„ 5 Ø«ÙˆØ§Ù†ÙŠ)
- Ø­Ø³Ø§Ø¨ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ Ù„Ù„ÙˆØµÙˆÙ„

#### ğŸ§© ØªÙƒØ§Ù…Ù„ REST (ShuttleBee API v1)

Endpoints ØªØ­Øª Ø§Ù„Ù…Ø³Ø§Ø± `/api/v1/shuttle/*`:

| Endpoint | Ø§Ù„ÙˆØµÙ |
|----------|-------|
| `POST /trips/<id>/confirm` | ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø±Ø­Ù„Ø© Ù…Ø¹ GPS |
| `GET /live/ongoing` | Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø­ÙŠØ© Ù„Ù„Ø±Ø­Ù„Ø§Øª |
| `GET /trips/<id>/gps` | Ù…Ø³Ø§Ø± GPS Ù„Ù„Ø±Ø­Ù„Ø© |
| `POST /vehicle/position` | Heartbeat Ù„Ù„Ù…Ø±ÙƒØ¨Ø© |
| `GET /trips/my` | Ø±Ø­Ù„Ø§ØªÙŠ Ù„Ù„Ø³Ø§Ø¦Ù‚ |

#### ğŸ“± Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø±Ø­Ù„Ø§Øª
- Ø¥Ù†Ø´Ø§Ø¡ ÙˆØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø±Ø­Ù„Ø§Øª
- ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ† ÙˆØ§Ù„Ù…Ø±ÙƒØ¨Ø§Øª
- Ø¥Ø¯Ø§Ø±Ø© Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø±ÙƒØ§Ø¨ (ØµØ¹ÙˆØ¯/ØºÙŠØ§Ø¨/Ù†Ø²ÙˆÙ„)
- Ø¬Ø¯ÙˆÙ„Ø© Ø£Ø³Ø¨ÙˆØ¹ÙŠØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ©

#### ğŸ”” Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
- Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø¨ ÙˆØ§Ù„ÙˆØµÙˆÙ„
- Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¨Ø¯Ø¡ ÙˆØ¥Ù„ØºØ§Ø¡ Ø§Ù„Ø±Ø­Ù„Ø§Øª
- Ø¯Ø¹Ù… SMS, WhatsApp, Push, Email

---

### ğŸ—ï¸ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

```
lib/
â”œâ”€â”€ core/                              # Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
â”‚   â”œâ”€â”€ bridgecore_integration/        # ØªÙƒØ§Ù…Ù„ Odoo
â”‚   â”‚   â””â”€â”€ client/
â”‚   â”‚       â””â”€â”€ bridgecore_client.dart
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ env_config.dart            # Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø©
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ live_tracking_provider.dart # ğŸ†• Ø§Ù„ØªØªØ¨Ø¹ Ø§Ù„Ø­ÙŠ WebSocket
â”‚   â”‚   â”œâ”€â”€ gps_tracking_service.dart
â”‚   â”‚   â””â”€â”€ map_service.dart
â”‚   â”œâ”€â”€ routing/                       # Ø§Ù„ØªÙ†Ù‚Ù„ (GoRouter)
â”‚   â”œâ”€â”€ theme/                         # Ø§Ù„ØªØµÙ…ÙŠÙ…
â”‚   â””â”€â”€ utils/                         # Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©
â”‚
â”œâ”€â”€ features/                          # Ø§Ù„Ù…ÙŠØ²Ø§Øª
â”‚   â”œâ”€â”€ auth/                          # Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
â”‚   â”‚
â”‚   â”œâ”€â”€ driver/                        # ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø³Ø§Ø¦Ù‚
â”‚   â”‚   â””â”€â”€ presentation/
â”‚   â”‚       â””â”€â”€ screens/
â”‚   â”‚           â”œâ”€â”€ driver_home_screen.dart      # Ø§Ù„ØªØªØ¨Ø¹ Ø§Ù„Ø­ÙŠ Ù…ÙØ¹Ù„
â”‚   â”‚           â”œâ”€â”€ driver_trip_detail_screen.dart
â”‚   â”‚           â””â”€â”€ driver_live_trip_map_screen.dart
â”‚   â”‚
â”‚   â”œâ”€â”€ dispatcher/                    # ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø´Ø±Ù
â”‚   â”‚   â””â”€â”€ presentation/
â”‚   â”‚       â””â”€â”€ screens/
â”‚   â”‚           â””â”€â”€ dispatcher_monitor_screen.dart  # Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø­ÙŠØ©
â”‚   â”‚
â”‚   â”œâ”€â”€ guardian/                      # ÙˆØ§Ø¬Ù‡Ø© ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±
â”‚   â”œâ”€â”€ manager/                       # ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø¯ÙŠØ±
â”‚   â”œâ”€â”€ trips/                         # Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø±Ø­Ù„Ø§Øª
â”‚   â”œâ”€â”€ notifications/                 # Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
â”‚   â”œâ”€â”€ vehicles/                      # Ø§Ù„Ù…Ø±ÙƒØ¨Ø§Øª
â”‚   â”œâ”€â”€ stops/                         # Ù†Ù‚Ø§Ø· Ø§Ù„ØªÙˆÙ‚Ù
â”‚   â””â”€â”€ groups/                        # Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ø±ÙƒØ§Ø¨
â”‚
â””â”€â”€ main.dart                          # Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
```

---

### ğŸ”§ Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©

| Ø§Ù„ØªÙ‚Ù†ÙŠØ© | Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… |
|---------|----------|
| **Flutter 3.x** | Ø¥Ø·Ø§Ø± Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ |
| **Dart 3.x** | Ù„ØºØ© Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© |
| **Riverpod 3.x** | Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø§Ù„Ø© |
| **GoRouter** | Ø§Ù„ØªÙ†Ù‚Ù„ |
| **Google Maps** | Ø§Ù„Ø®Ø±Ø§Ø¦Ø· ÙˆØ§Ù„ØªØªØ¨Ø¹ |
| **Geolocator** | Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ |
| **BridgeCore 3.1.0** | ØªÙƒØ§Ù…Ù„ Odoo + WebSocket |
| **WebSocket** | Ø§Ù„ØªØªØ¨Ø¹ Ø§Ù„Ø­ÙŠ |

---

### ğŸ“¦ Ø§Ù„Ø­Ø²Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

```yaml
dependencies:
  # Odoo Integration with Live Tracking
  bridgecore_flutter: ^3.1.0
  
  # State Management
  flutter_riverpod: ^3.0.3
  
  # Navigation
  go_router: ^17.0.0
  
  # Maps & Location
  google_maps_flutter: ^2.11.1
  geolocator: ^13.0.4
  
  # Background Services
  flutter_foreground_task: ^latest
```

---

### âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ ÙˆØ§Ù„ØªØ«Ø¨ÙŠØª

#### Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª
- Flutter SDK 3.x+
- Dart SDK 3.x+
- Android Studio / VS Code
- Odoo 18 Server Ù…Ø¹ Ù…ÙˆØ¯ÙŠÙˆÙ„ ShuttleBee
- BridgeCore Backend Ù…Ø¹ Ø¯Ø¹Ù… WebSocket

#### Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ«Ø¨ÙŠØª

1. **Ø§Ø³ØªÙ†Ø³Ø§Ø® Ø§Ù„Ù…Ø´Ø±ÙˆØ¹**
```bash
git clone https://github.com/your-org/shuttlebee-flutter.git
cd shuttlebee-flutter
```

2. **ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª**
```bash
flutter pub get
```

3. **Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ù„Ù Ø§Ù„Ø¨ÙŠØ¦Ø©** (`.env`)
```env
ODOO_URL=https://bridgecore.geniura.com
```

4. **Ø¥Ø¹Ø¯Ø§Ø¯ Google Maps**

**Android** (`android/app/src/main/AndroidManifest.xml`):
```xml
<meta-data
    android:name="com.google.android.geo.API_KEY"
    android:value="YOUR_API_KEY"/>
```

**iOS** (`ios/Runner/AppDelegate.swift`):
```swift
GMSServices.provideAPIKey("YOUR_API_KEY")
```

5. **ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚**
```bash
flutter run
```

---

### ğŸ“¡ Ø§Ù„ØªØªØ¨Ø¹ Ø§Ù„Ø­ÙŠ - Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

#### Ù„Ù„Ø³Ø§Ø¦Ù‚

```dart
import 'package:your_app/core/services/live_tracking_provider.dart';

// ÙÙŠ Ø´Ø§Ø´Ø© Ø§Ù„Ø³Ø§Ø¦Ù‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
class DriverHomeScreen extends ConsumerWidget {
  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final trackingState = ref.watch(driverLiveTrackingProvider);
    
    // Ø§Ù„Ø§ØªØµØ§Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    useEffect(() {
      ref.read(driverLiveTrackingProvider.notifier).connect();
      return null;
    }, []);
    
    return Column(
      children: [
        // Ø¹Ø±Ø¶ Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„
        Text(trackingState.isConnected ? 'Ù…ØªØµÙ„' : 'ØºÙŠØ± Ù…ØªØµÙ„'),
        Text(trackingState.isAutoTracking ? 'ØªØªØ¨Ø¹ Ø­ÙŠ Ù†Ø´Ø·' : ''),
      ],
    );
  }
}

// Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø±Ø­Ù„Ø©
ref.read(driverLiveTrackingProvider.notifier).startAutoTrackingManual(
  tripId: trip.id,
  vehicleId: trip.vehicleId!,
);

// Ø¹Ù†Ø¯ Ø¥Ù†Ù‡Ø§Ø¡ Ø±Ø­Ù„Ø©
ref.read(driverLiveTrackingProvider.notifier).stopAutoTrackingManual();
```

#### Ù„Ù„Ù…Ø´Ø±Ù

```dart
import 'package:your_app/core/services/live_tracking_provider.dart';

class DispatcherMonitorScreen extends ConsumerWidget {
  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final trackingState = ref.watch(dispatcherLiveTrackingProvider);
    
    // Ø§Ù„Ø§ØªØµØ§Ù„ ÙˆØ§Ù„Ø§Ø´ØªØ±Ø§Ùƒ
    useEffect(() {
      ref.read(dispatcherLiveTrackingProvider.notifier).connectAndSubscribe();
      return null;
    }, []);
    
    // Ø¹Ø±Ø¶ Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„Ù…Ø±ÙƒØ¨Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø±ÙŠØ·Ø©
    return GoogleMap(
      markers: trackingState.vehiclePositions.map((pos) => 
        Marker(
          markerId: MarkerId('vehicle_${pos.vehicleId}'),
          position: LatLng(pos.latitude, pos.longitude),
        ),
      ).toSet(),
    );
  }
}

// Ø·Ù„Ø¨ Ù…ÙˆÙ‚Ø¹ Ø³Ø§Ø¦Ù‚ Ù…Ø¹ÙŠÙ†
final location = await ref.read(dispatcherLiveTrackingProvider.notifier)
    .requestDriverLocation(driverId);
```

---

### ğŸ” Ø§Ù„Ø£Ø¯ÙˆØ§Ø± ÙˆØ§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª

| Ø§Ù„Ø¯ÙˆØ± | Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª |
|-------|----------|
| **Manager** | ÙˆØµÙˆÙ„ ÙƒØ§Ù…Ù„ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙŠØ²Ø§Øª |
| **Dispatcher** | Ù…Ø±Ø§Ù‚Ø¨Ø© Ø­ÙŠØ© + Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø±Ø­Ù„Ø§Øª ÙˆØ§Ù„Ø¬Ø¯Ø§ÙˆÙ„ |
| **Driver** | ØªÙ†ÙÙŠØ° Ø§Ù„Ø±Ø­Ù„Ø§Øª + Ø§Ù„ØªØªØ¨Ø¹ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ |
| **User/Passenger** | Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø­Ù„Ø§Øª ÙˆØ§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª |
| **Guardian** | ØªØªØ¨Ø¹ Ø§Ù„Ø£Ø¨Ù†Ø§Ø¡ ÙˆØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØºÙŠØ§Ø¨ |

---

### ğŸŒ ØªÙƒØ§Ù…Ù„ Odoo

#### Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©
- `shuttle.trip` - Ø§Ù„Ø±Ø­Ù„Ø§Øª
- `shuttle.trip.line` - Ø³Ø·ÙˆØ± Ø§Ù„Ø±Ø­Ù„Ø© (Ø§Ù„Ø±ÙƒØ§Ø¨)
- `shuttle.vehicle` - Ø§Ù„Ù…Ø±ÙƒØ¨Ø§Øª
- `shuttle.vehicle.position` - Ù…ÙˆØ§Ù‚Ø¹ GPS (Ø¬Ø¯ÙŠØ¯)
- `shuttle.stop` - Ù†Ù‚Ø§Ø· Ø§Ù„ØªÙˆÙ‚Ù
- `shuttle.passenger.group` - Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ø±ÙƒØ§Ø¨
- `shuttle.notification` - Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª

#### Ø£ÙˆØ§Ù…Ø± WebSocket
| Ø§Ù„Ø£Ù…Ø± | Ø§Ù„Ø§ØªØ¬Ø§Ù‡ | Ø§Ù„ÙˆØµÙ |
|-------|---------|-------|
| `subscribe_live_tracking` | Client â†’ Server | Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ ÙÙŠ Ø§Ù„ØªØªØ¨Ø¹ Ø§Ù„Ø­ÙŠ |
| `request_driver_location` | Dispatcher â†’ Driver | Ø·Ù„Ø¨ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø³Ø§Ø¦Ù‚ |
| `location_response` | Driver â†’ Dispatcher | Ø±Ø¯ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø³Ø§Ø¦Ù‚ |
| `driver_status_update` | Driver â†’ Server | ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø³Ø§Ø¦Ù‚ |
| `vehicle_position` | Server â†’ Clients | ØªØ­Ø¯ÙŠØ« Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© |
| `trip_update` | Server â†’ Clients | ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø±Ø­Ù„Ø© |

---

### ğŸ“„ Ø³Ø¬Ù„ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª

#### v3.1.0 (Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ)
- âœ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØªØ¨Ø¹ Ø§Ù„Ø­ÙŠ Ø¹Ø¨Ø± WebSocket
- âœ… Ø¯Ø¹Ù… Riverpod 3.x (`Notifier` Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† `StateNotifier`)
- âœ… Ø§Ù„ØªØªØ¨Ø¹ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ø³Ø§Ø¦Ù‚ ÙƒÙ„ 10 Ø«ÙˆØ§Ù†ÙŠ
- âœ… Ø·Ù„Ø¨ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø³Ø§Ø¦Ù‚ Ø¹Ù†Ø¯ Ø§Ù„Ø·Ù„Ø¨
- âœ… Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ

---

### ğŸ“„ Ø§Ù„ØªØ±Ø®ÙŠØµ

Ù‡Ø°Ø§ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ù…Ù…Ù„ÙˆÙƒ ÙˆØºÙŠØ± Ù…ÙØªÙˆØ­ Ø§Ù„Ù…ØµØ¯Ø±.

---

## English

### ğŸ“‹ Overview

**ShuttleBee** is a comprehensive Flutter application for school transportation management, working with Odoo 18 as the backend via **BridgeCore Flutter v3.1.0**.

### âœ¨ Key Features

#### ğŸš€ Live Tracking via WebSocket (New in v3.1.0)

Real-time tracking over WebSocket:

**For Drivers:**
- Automatic GPS sending every 10 seconds during ongoing trips
- Auto-response to dispatcher location requests
- Positions saved to Odoo (`shuttle.vehicle.position`)
- Automatic reconnection on network loss

**For Dispatchers:**
- Live monitoring of all vehicles on map
- Real-time position updates
- On-demand driver location requests
- Direct trip status tracking

```dart
// Driver live tracking
ref.read(driverLiveTrackingProvider.notifier).connect();
ref.read(driverLiveTrackingProvider.notifier).startAutoTrackingManual(
  tripId: trip.id,
  vehicleId: trip.vehicleId!,
);

// Dispatcher live tracking
ref.read(dispatcherLiveTrackingProvider.notifier).connectAndSubscribe();
final location = await ref.read(dispatcherLiveTrackingProvider.notifier)
    .requestDriverLocation(driverId);
```

### ğŸ” Roles & Permissions

| Role | Permissions |
|------|------------|
| **Manager** | Full access to all features |
| **Dispatcher** | Live monitoring + Trip and schedule management |
| **Driver** | Execute trips + Auto tracking |
| **User/Passenger** | View trips and notifications |
| **Guardian** | Track children and register absences |

### ğŸ“„ License

This project is proprietary and not open source.

---

<div align="center">

**Made with â¤ï¸ for ShuttleBee**

**Powered by BridgeCore Flutter v3.1.0**

</div>
