# ๐บ๏ธ ููุฎุต ุชุญุฏูุซุงุช ุตูุญุฉ ุงููุฑุงูุจุฉ - Monitor Map Updates

## โ ุงูุชุญุฏูุซุงุช ุงููููุฌุฒุฉ

ุชู ุชุญุฏูุซ ุตูุญุฉ ุงููุฑุงูุจุฉ (Dispatcher Monitor) ุจููุฒุชูู ุฑุฆูุณูุชูู:

---

## 1๏ธโฃ ุฏุนู Google Maps ููููุจ ูุงูููุจุงูู ๐

### ูุง ุชู ุฅุถุงูุชู:

#### ุฃ) ุฏุนู ุงูููุจ (Web):
- โ ุฅุถุงูุฉ ุญุฒูุฉ `google_maps_flutter_web: ^0.5.10`
- โ ุฅุถุงูุฉ Google Maps API key ุฅูู `web/index.html`
- โ ุชูุนูู Google Maps ุนูู ุงููุชุตูุญ ูู `CrossPlatformMap`

#### ุจ) ุงูุฃูุฏุฑููุฏ:
- โ API key ููุฌูุฏ ุจุงููุนู ูู `AndroidManifest.xml`

#### ุฌ) ุชูุฒูุน ุงูููุตุงุช:
| ุงูููุตุฉ | ููุน ุงูุฎุฑูุทุฉ | ุงูุญุงูุฉ |
|--------|-------------|--------|
| Android | Google Maps | โ |
| iOS | Google Maps | โ๏ธ ูุญุชุงุฌ ุฅุนุฏุงุฏ |
| Web | Google Maps | โ |
| Windows | OpenStreetMap | โ |

### ุงููููุงุช ุงูููุนุฏููุฉ:
```
โ๏ธ pubspec.yaml                     (ุฃุถููุช google_maps_flutter_web)
โ๏ธ web/index.html                   (ุฃุถูู Google Maps script)
โ๏ธ lib/core/widgets/cross_platform_map.dart (ุชูุนูู ููููุจ)
```

### API Key ุงูููุณุชุฎุฏู:
```
AIzaSyA9lblOmPEN-Aa9oE_ET3cbqiapI6HhjSE
```

โ๏ธ **ููู:** ุชุฃูุฏ ูู ุชูุนูู "Maps JavaScript API" ูู Google Cloud Console

---

## 2๏ธโฃ ุงููููุน ุงูุฐูู ููุฎุฑูุทุฉ ๐ฏ

### ุงูููุฒุฉ ุงูุฌุฏูุฏุฉ:

ุนูุฏ ูุชุญ ุตูุญุฉ ุงููุฑุงูุจุฉุ ุชุจุฏุฃ ุงูุฎุฑูุทุฉ ุชููุงุฆูุงู ูู **ุฃูุถู ูููุน ูููู**:

```
๐ฏ ุงุณุชุฑุงุชูุฌูุฉ ุงููููุน:
   1. ูุฑูุฒ ุชุฌูุน ุงูุฑุญูุงุช ุงููุดุทุฉ (ุงูุฃููููุฉ ุงูุฃููู)
   โ
   2. ูููุน ุงูุดุฑูุฉ (ุฅุฐุง ูู ุชูุฌุฏ ุฑุญูุงุช)
```

### ููู ูุนููุ

#### ุงูุณููุงุฑูู 1: ูุฌูุฏ ุฑุญูุงุช ูุดุทุฉ
```dart
// ูุญุณุจ ุงููุฑูุฒ ุงูุฌุบุฑุงูู ูุฌููุน ุงูุฑุญูุงุช
Center = (ฮฃ Latitudes / N, ฮฃ Longitudes / N)

// ูุซุงู: 5 ุฑุญูุงุช ูู ุทูุฌุฉ
๐ ุงูุฑุญูุฉ 1: (35.7595, -5.8340)
๐ ุงูุฑุญูุฉ 2: (35.7500, -5.8400)
๐ ุงูุฑุญูุฉ 3: (35.7600, -5.8200)
๐ ุงูุฑุญูุฉ 4: (35.7700, -5.8350)
๐ ุงูุฑุญูุฉ 5: (35.7550, -5.8300)

โ ุงููุฑูุฒ ุงููุญุณูุจ: (35.7589, -5.8318)
ุงูุฎุฑูุทุฉ ุชุจุฏุฃ ูู ููุชุตู ุฌููุน ุงูุฑุญูุงุช
```

#### ุงูุณููุงุฑูู 2: ูุง ุชูุฌุฏ ุฑุญูุงุช
```dart
// ุชุณุชุฎุฏู ูููุน ุงูุดุฑูุฉ ุงูุงูุชุฑุงุถู
initialLocation = CompanyConfig.defaultLocation

โ ุงููููุน: ุทูุฌุฉ (35.7595, -5.8340)
```

### ุงููููุงุช ุงูุฌุฏูุฏุฉ:
```
๐ lib/core/config/company_config.dart    (ููู ุงูุชูููู ุงูุฌุฏูุฏ)
๐ SMART_MAP_LOCATION_GUIDE.md           (ุฏููู ุงูููุฒุฉ)
๐ MONITOR_MAP_UPDATE_SUMMARY.md         (ูุฐุง ุงูููู)
```

### ุงููููุงุช ุงูููุนุฏููุฉ:
```
โ๏ธ lib/features/dispatcher/presentation/screens/dispatcher_monitor_screen.dart
   - ุฅุถุงูุฉ _calculateSmartInitialLocation()
   - ุงุณุชุฎุฏุงู CompanyConfig
   - ุชุญุณูู ุงููููุน ุงูุงุจุชุฏุงุฆู
```

---

## โ๏ธ ุงูุชุฎุตูุต ุงูุณุฑูุน

### ๐ข ุชุบููุฑ ูููุน ุงูุดุฑูุฉ:

**ุงูููู:** `lib/core/config/company_config.dart`

```dart
class CompanyConfig {
  static const defaultLocation = MapLocation(
    latitude: 35.7595,  // ุบููุฑ ุฎุท ุงูุนุฑุถ
    longitude: -5.8340, // ุบููุฑ ุฎุท ุงูุทูู
  );

  static const String cityName = 'ุทูุฌุฉ'; // ุบููุฑ ุงูุงุณู
}
```

### ๐บ๏ธ ูุฏู ูุบุฑุจูุฉ ุดุงุฆุนุฉ:

```dart
// ุทูุฌุฉ (ุงูุชุฑุงุถู)
latitude: 35.7595, longitude: -5.8340

// ุงูุฑุจุงุท
latitude: 33.9716, longitude: -6.8498

// ุงูุฏุงุฑ ุงูุจูุถุงุก
latitude: 33.5731, longitude: -7.5898

// ูุฑุงูุด
latitude: 31.6295, longitude: -7.9811
```

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### 1. ุชุดุบูู ุนูู ุงูููุจ (Google Maps):
```bash
cd d:\flutter\app\ShuttleBee-flutter-from-starter
flutter run -d chrome
```

### 2. ุชุดุบูู ุนูู Windows (OpenStreetMap):
```bash
flutter run -d windows
```

### 3. ุงูุชุญูู ูู ุงููููุน ุงูุฐูู:
```
โ ุญุงูุฉ 1: ุงูุชุญ ุงูุตูุญุฉ ูุน ุฑุญูุงุช ูุดุทุฉ
   โ ุชููุน: ุงูุฎุฑูุทุฉ ูู ููุชุตู ุงูุฑุญูุงุช

โ ุญุงูุฉ 2: ุงูุชุญ ุงูุตูุญุฉ ุจุฏูู ุฑุญูุงุช
   โ ุชููุน: ุงูุฎุฑูุทุฉ ูู ูููุน ุงูุดุฑูุฉ (ุทูุฌุฉ)
```

---

## ๐ ููุฎุต ุงูููุงุฆุฏ

### Google Maps ููููุจ:
- โจ ุชุฌุฑุจุฉ ููุญุฏุฉ ุนูู ุงูููุจุงูู ูุงูููุจ
- ๐ ุฃุฏุงุก ุฃูุถู ูู OpenStreetMap
- ๐ฏ ุฃุฏูุงุช ูุชูุฏูุฉ ููู monitoring
- ๐ฑ ุฏุนู ูุงูู ููู markers ูุงูู polylines

### ุงููููุน ุงูุฐูู:
- ๐ฏ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณููุฉ
- ๐ข ูุจุฏุฃ ุฏุงุฆูุงู ูู ุงููููุน ุงูุตุญูุญ
- ๐ ูููุน ุฏููุงูููู ุญุณุจ ุงูุฑุญูุงุช
- โ๏ธ ุณูู ุงูุชุฎุตูุต

---

## ๐ ุงููุฑุงุฌุน

### ุฃุฏูุฉ ููุตูุฉ:
- ๐ `GOOGLE_MAPS_WEB_SETUP.md` - ุฏููู ุฅุนุฏุงุฏ Google Maps
- ๐ `SMART_MAP_LOCATION_GUIDE.md` - ุฏููู ุงููููุน ุงูุฐูู

### ุฑูุงุจุท ุฎุงุฑุฌูุฉ:
- [Google Maps Platform](https://console.cloud.google.com/google/maps-apis)
- [Google Maps Flutter Plugin](https://pub.dev/packages/google_maps_flutter)
- [Google Maps JavaScript API](https://developers.google.com/maps/documentation/javascript)

---

## ๐ ุญู ุงููุดุงูู

### ุงููุดููุฉ: ุงูุฎุฑูุทุฉ ูุง ุชุธูุฑ ุนูู ุงูููุจ

**ุงูุญู:**
1. ุชุฃูุฏ ูู ุชูุนูู "Maps JavaScript API" ูู Google Cloud Console
2. ุชุฃูุฏ ูู ุชูุนูู ุงูููุงุชูุฑ (Billing)
3. ุฑุงุฌุน Developer Console ูู ุงููุชุตูุญ

### ุงููุดููุฉ: ุงูุฎุฑูุทุฉ ุชุจุฏุฃ ูู ูููุน ุฎุงุทุฆ

**ุงูุญู:**
1. ุชุญูู ูู `CompanyConfig.defaultLocation`
2. ุฑุงุฌุน ุงูู debug logs:
   ```
   ๐ [Monitor] Calculated center of X trips
   ๐ [Monitor] No trips with valid location, using company location
   ```

### ุงููุดููุฉ: API Key Error

**ุงูุญู:**
1. ุฑุงุฌุน ุฅุนุฏุงุฏุงุช API Key ูู Google Cloud Console
2. ุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ Restrictions ุชููุน ุงูุงุณุชุฎุฏุงู
3. ุชุฃูุฏ ูู ุชูุนูู ุงูููุงุชูุฑ

---

## ๐ ููุงุญุธุงุช ููุงุฆูุฉ

### โ ูุง ูุนูู:
- โ Google Maps ุนูู Android/iOS/Web
- โ OpenStreetMap ุนูู Windows (ุจุฏูู ููุชุงุฒ)
- โ ุงููููุน ุงูุฐูู ุงูุชููุงุฆู
- โ ุงูุชุฎุตูุต ุงูุณูู

### โ๏ธ ูุง ูุญุชุงุฌ ุฅุนุฏุงุฏ ุฅุถุงูู:
- โ๏ธ iOS (ูุญุชุงุฌ ุฅุถุงูุฉ API key ูู AppDelegate.swift)
- โ๏ธ ุชูุนูู APIs ูู Google Cloud Console
- โ๏ธ ุชูุนูู ุงูููุงุชูุฑ (Billing) ููุญุตูู ุนูู $200 ุฑุตูุฏ ูุฌุงูู

### ๐ ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ ุงูููุชุฑุญุฉ:
- ุฅุถุงูุฉ ููุงูุน ูุชุนุฏุฏุฉ ูููุฑูุน
- ุญูุธ ุขุฎุฑ ูููุน ููุฎุฑูุทุฉ
- ุชุฎุตูุต ุงููููุน ุญุณุจ ุฏูุฑ ุงููุณุชุฎุฏู

---

**โ ุฌููุน ุงูุชุญุฏูุซุงุช ูููุฌุฒุฉ ูุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู!**

ุชุงุฑูุฎ ุงูุชุญุฏูุซ: 18 ุฏูุณูุจุฑ 2024
